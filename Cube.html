
<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">


    <title>Cube</title>
    
    
    
    
        <style>
      * {
  margin: 0;
  padding: 0;
  border: 0;
  background: #000000
}

canvas {
position: relative; top:50%;
left:50%;
margin-left:-50vmin;
width:100vmin;
height:100vmin;
overflow:hidden;
display: block;
}
    </style>

    <script>
  window.console = window.console || function(t) {};
</script>

    
    
    <script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>

  </head>

  <body translate="no" >

    <canvas></canvas>
     

    
        <script>
      var canvas = document.getElementsByTagName('canvas')[0];
var ctx = canvas.getContext('2d');
canvas.width=canvas.height=400;
aaa();

function aaa(){
    var a,b,c,tim,p,g,u,t,x,y,z,ste,zm;
    ctx.fillStyle="rgb(255,255,255)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    tim=new Date().getTime()/70;
    
    a=tim/17;
  zm=1+Math.sin(tim/23)*0.4;
    t=[];
    for(b=0;b<3;b++){
        x=Math.cos(a);
        y=Math.sin(a);
        a+=Math.PI*2/3;
        t.push([canvas.width/2+x*300*zm,canvas.height/2+y*300*zm]);
    }
    
    for(c=0;c<10;c++){
        tim+=6;
        x=Math.sin(tim/7)*100*zm+canvas.width/2;
        y=Math.cos(tim/11)*100*zm+canvas.height/2;
        p=[x,y];
        
        g=[];
        for(a=0;a<3;a++)g.push(getp(p,t[a]));
        
        u=[];
        for(a=0;a<3;a++){
            b=(a+1)%3;
            u.push(kouten(g[a],t[b],g[b],t[a]));
        }
        
        z=kouten(u[0],t[2],u[1],t[0]);
        
        ctx.lineWidth=1;
        ctx.strokeStyle="rgba(0,0,0,0.2)";
        for(a=0;a<3;a++){
            sen(t[a],z);
            sen(u[a],t[a]);
            sen(u[a],t[(a+1)%3]);
            sen(t[a],g[a]);
        }
        
        ctx.lineWidth=2;
        ctx.strokeStyle="rgb(255,0,0)";
        for(a=0;a<3;a++){
            sen(u[a],z);
            sen(u[a],g[(a)%3]);
            sen(u[a],g[(a+1)%3]);
            sen(p,g[a]);
        }
    }
    requestAnimationFrame(aaa);
}

function kouten(p1,p2,p3,p4){
    var a,b,x,y;
    b=(p2[0]-p1[0])*(p4[1]-p3[1])-(p2[1]-p1[1])*(p4[0]-p3[0]);
    a=((p3[0]-p1[0])*(p4[1]-p3[1])-(p3[1]-p1[1])*(p4[0]-p3[0]))/b;
    x=p1[0]+(p2[0]-p1[0])*a;
    y=p1[1]+(p2[1]-p1[1])*a;
    return [x,y];
}

function getp(a,b,bai){
    var x,y;
    x=(b[0]-a[0])*0.08+a[0];
    y=(b[1]-a[1])*0.08+a[1];
    return [x,y];
}

function sen(a,b){
    ctx.beginPath();
    ctx.lineTo(a[0],a[1]);
    ctx.lineTo(b[0],b[1]);
    ctx.stroke();
}
      //# sourceURL=pen.js
    </script>

    
    
  </body>
</html>
 
